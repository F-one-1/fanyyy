import{u as t,c as a,w as r,_ as c,o as p,a as o,d as s}from"./app.a35a1e04.js";const y=o("div",{class:"prose m-auto"},[o("p",null,[s("In ESM, you might found your old friends "),o("code",null,"__dirname"),s(" and "),o("code",null,"__filename"),s(" are no longer available. When you search for "),o("a",{href:"https://stackoverflow.com/questions/46745014/alternative-for-dirname-in-node-when-using-the-experimental-modules-flag",target:"_blank",rel:"noopener"},"solutions"),s(", you will find that you will need to parse "),o("code",null,"import.meta.url"),s(" to get the equivalents. While most of the solutions only show you the way to get them in ESM only, If you like me, who write modules in TypeScript and transpile to both CJS and ESM at the same time using tools like "),o("a",{href:"https://tsup.egoist.sh/",target:"_blank",rel:"noopener"},[o("code",null,"tsup")]),s(". Here is the isomorphic solution:")]),o("pre",null,[o("code",{class:"language-js"},[o("div",{class:"shiki-container"},[o("pre",{class:"shiki shiki-dark",style:{"background-color":"#121212"}},[o("code",{"v-pre":""},[o("span",{class:"line"},[o("span",{style:{color:"#4D9375"}},"import"),o("span",{style:{color:"#DBD7CA"}}," "),o("span",{style:{color:"#858585"}},"{"),o("span",{style:{color:"#DBD7CA"}}," "),o("span",{style:{color:"#B8A965"}},"dirname"),o("span",{style:{color:"#DBD7CA"}}," "),o("span",{style:{color:"#858585"}},"}"),o("span",{style:{color:"#DBD7CA"}}," "),o("span",{style:{color:"#4D9375"}},"from"),o("span",{style:{color:"#DBD7CA"}}," "),o("span",{style:{color:"#C98A7D"}},"'path'")]),s(`
`),o("span",{class:"line"},[o("span",{style:{color:"#4D9375"}},"import"),o("span",{style:{color:"#DBD7CA"}}," "),o("span",{style:{color:"#858585"}},"{"),o("span",{style:{color:"#DBD7CA"}}," "),o("span",{style:{color:"#B8A965"}},"fileURLToPath"),o("span",{style:{color:"#DBD7CA"}}," "),o("span",{style:{color:"#858585"}},"}"),o("span",{style:{color:"#DBD7CA"}}," "),o("span",{style:{color:"#4D9375"}},"from"),o("span",{style:{color:"#DBD7CA"}}," "),o("span",{style:{color:"#C98A7D"}},"'url'")]),s(`
`),o("span",{class:"line"}),s(`
`),o("span",{class:"line"},[o("span",{style:{color:"#CB7676"}},"const"),o("span",{style:{color:"#DBD7CA"}}," "),o("span",{style:{color:"#D4976C"}},"_dirname"),o("span",{style:{color:"#DBD7CA"}}," "),o("span",{style:{color:"#CB7676"}},"="),o("span",{style:{color:"#DBD7CA"}}," "),o("span",{style:{color:"#CB7676"}},"typeof"),o("span",{style:{color:"#DBD7CA"}}," "),o("span",{style:{color:"#B8A965"}},"__dirname"),o("span",{style:{color:"#DBD7CA"}}," "),o("span",{style:{color:"#CB7676"}},"!=="),o("span",{style:{color:"#DBD7CA"}}," "),o("span",{style:{color:"#C98A7D"}},"'undefined'")]),s(`
`),o("span",{class:"line"},[o("span",{style:{color:"#DBD7CA"}},"  "),o("span",{style:{color:"#CB7676"}},"?"),o("span",{style:{color:"#DBD7CA"}}," "),o("span",{style:{color:"#B8A965"}},"__dirname")]),s(`
`),o("span",{class:"line"},[o("span",{style:{color:"#DBD7CA"}},"  "),o("span",{style:{color:"#CB7676"}},":"),o("span",{style:{color:"#DBD7CA"}}," "),o("span",{style:{color:"#A1B567"}},"dirname"),o("span",{style:{color:"#858585"}},"("),o("span",{style:{color:"#A1B567"}},"fileURLToPath"),o("span",{style:{color:"#858585"}},"("),o("span",{style:{color:"#4D9375"}},"import"),o("span",{style:{color:"#858585"}},"."),o("span",{style:{color:"#429988"}},"meta"),o("span",{style:{color:"#858585"}},"."),o("span",{style:{color:"#B8A965"}},"url"),o("span",{style:{color:"#858585"}},"))")]),s(`
`),o("span",{class:"line"})])]),o("pre",{class:"shiki shiki-light",style:{"background-color":"#ffffff"}},[o("code",{"v-pre":""},[o("span",{class:"line"},[o("span",{style:{color:"#1C6B48"}},"import"),o("span",{style:{color:"#393A34"}}," "),o("span",{style:{color:"#8E8F8B"}},"{"),o("span",{style:{color:"#393A34"}}," "),o("span",{style:{color:"#8C862B"}},"dirname"),o("span",{style:{color:"#393A34"}}," "),o("span",{style:{color:"#8E8F8B"}},"}"),o("span",{style:{color:"#393A34"}}," "),o("span",{style:{color:"#1C6B48"}},"from"),o("span",{style:{color:"#393A34"}}," "),o("span",{style:{color:"#B56959"}},"'path'")]),s(`
`),o("span",{class:"line"},[o("span",{style:{color:"#1C6B48"}},"import"),o("span",{style:{color:"#393A34"}}," "),o("span",{style:{color:"#8E8F8B"}},"{"),o("span",{style:{color:"#393A34"}}," "),o("span",{style:{color:"#8C862B"}},"fileURLToPath"),o("span",{style:{color:"#393A34"}}," "),o("span",{style:{color:"#8E8F8B"}},"}"),o("span",{style:{color:"#393A34"}}," "),o("span",{style:{color:"#1C6B48"}},"from"),o("span",{style:{color:"#393A34"}}," "),o("span",{style:{color:"#B56959"}},"'url'")]),s(`
`),o("span",{class:"line"}),s(`
`),o("span",{class:"line"},[o("span",{style:{color:"#AB5959"}},"const"),o("span",{style:{color:"#393A34"}}," "),o("span",{style:{color:"#A65E2B"}},"_dirname"),o("span",{style:{color:"#393A34"}}," "),o("span",{style:{color:"#AB5959"}},"="),o("span",{style:{color:"#393A34"}}," "),o("span",{style:{color:"#AB5959"}},"typeof"),o("span",{style:{color:"#393A34"}}," "),o("span",{style:{color:"#8C862B"}},"__dirname"),o("span",{style:{color:"#393A34"}}," "),o("span",{style:{color:"#AB5959"}},"!=="),o("span",{style:{color:"#393A34"}}," "),o("span",{style:{color:"#B56959"}},"'undefined'")]),s(`
`),o("span",{class:"line"},[o("span",{style:{color:"#393A34"}},"  "),o("span",{style:{color:"#AB5959"}},"?"),o("span",{style:{color:"#393A34"}}," "),o("span",{style:{color:"#8C862B"}},"__dirname")]),s(`
`),o("span",{class:"line"},[o("span",{style:{color:"#393A34"}},"  "),o("span",{style:{color:"#AB5959"}},":"),o("span",{style:{color:"#393A34"}}," "),o("span",{style:{color:"#6C7834"}},"dirname"),o("span",{style:{color:"#8E8F8B"}},"("),o("span",{style:{color:"#6C7834"}},"fileURLToPath"),o("span",{style:{color:"#8E8F8B"}},"("),o("span",{style:{color:"#1C6B48"}},"import"),o("span",{style:{color:"#8E8F8B"}},"."),o("span",{style:{color:"#2F8A89"}},"meta"),o("span",{style:{color:"#8E8F8B"}},"."),o("span",{style:{color:"#8C862B"}},"url"),o("span",{style:{color:"#8E8F8B"}},"))")]),s(`
`),o("span",{class:"line"})])])])])])],-1),D="Isomorphic `__dirname`",h="2021-08-30T16:00:00.000Z",u="en",C="1min",_=[{property:"og:title",content:"Isomorphic `__dirname`"}],f={__name:"isomorphic-dirname",setup(i,{expose:e}){const l={title:"Isomorphic `__dirname`",date:"2021-08-30T16:00:00.000Z",lang:"en",duration:"1min",meta:[{property:"og:title",content:"Isomorphic `__dirname`"}]};return e({frontmatter:l}),t({title:"Isomorphic `__dirname`",meta:[{property:"og:title",content:"Isomorphic `__dirname`"}]}),(B,d)=>{const n=c;return p(),a(n,{frontmatter:l},{default:r(()=>[y]),_:1})}}};export{h as date,f as default,C as duration,u as lang,_ as meta,D as title};

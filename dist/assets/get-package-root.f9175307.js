import{u as n,c as t,w as c,_ as r,o as i,a as e,d as s}from"./app.07d57fa0.js";const p=e("div",{class:"prose m-auto"},[e("p",null,[s("When you want to get the real file path of a certain package, you could use "),e("code",null,"require.resolve"),s(" to fetch their main entry path.")]),e("pre",null,[e("code",{class:"language-bash"},[e("div",{class:"shiki-container"},[e("pre",{class:"shiki shiki-dark",style:{"background-color":"#121212"}},[e("code",{"v-pre":""},[e("span",{class:"line"},[e("span",{style:{color:"#CB7676"}},">"),e("span",{style:{color:"#DBD7CA"}}," require.resolve"),e("span",{style:{color:"#858585"}},"("),e("span",{style:{color:"#C98A7D"}},"'vite'"),e("span",{style:{color:"#858585"}},")")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#C98A7D"}},"'/Users/.../node_modules/vite/dist/node/index.js'")]),s(`
`),e("span",{class:"line"}),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#CB7676"}},">"),e("span",{style:{color:"#DBD7CA"}}," require.resolve"),e("span",{style:{color:"#858585"}},"("),e("span",{style:{color:"#C98A7D"}},"'windicss'"),e("span",{style:{color:"#858585"}},")")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#C98A7D"}},"'/Users/.../node_modules/windicss/index.js'")]),s(`
`),e("span",{class:"line"})])]),e("pre",{class:"shiki shiki-light",style:{"background-color":"#ffffff"}},[e("code",{"v-pre":""},[e("span",{class:"line"},[e("span",{style:{color:"#AB5959"}},">"),e("span",{style:{color:"#393A34"}}," require.resolve"),e("span",{style:{color:"#8E8F8B"}},"("),e("span",{style:{color:"#B56959"}},"'vite'"),e("span",{style:{color:"#8E8F8B"}},")")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#B56959"}},"'/Users/.../node_modules/vite/dist/node/index.js'")]),s(`
`),e("span",{class:"line"}),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#AB5959"}},">"),e("span",{style:{color:"#393A34"}}," require.resolve"),e("span",{style:{color:"#8E8F8B"}},"("),e("span",{style:{color:"#B56959"}},"'windicss'"),e("span",{style:{color:"#8E8F8B"}},")")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#B56959"}},"'/Users/.../node_modules/windicss/index.js'")]),s(`
`),e("span",{class:"line"})])])])])]),e("p",null,[s("However, when you want to get the root directory of the package, you will find the result of "),e("code",null,"require.resolve"),s(" could vary based on different packages\u2019 configurations.")]),e("p",null,[s("A trick for this is to resolve the "),e("code",null,"package.json"),s(" instead, as the "),e("code",null,"package.json"),s(" is always located at the root of the package. Combining with "),e("code",null,"path.dirname"),s(", you could always get the package root.")]),e("pre",null,[e("code",{class:"language-bash"},[e("div",{class:"shiki-container"},[e("pre",{class:"shiki shiki-dark",style:{"background-color":"#121212"}},[e("code",{"v-pre":""},[e("span",{class:"line"},[e("span",{style:{color:"#CB7676"}},">"),e("span",{style:{color:"#DBD7CA"}}," path.dirname"),e("span",{style:{color:"#858585"}},"("),e("span",{style:{color:"#DBD7CA"}},"require.resolve"),e("span",{style:{color:"#858585"}},"("),e("span",{style:{color:"#C98A7D"}},"'vite/package.json'"),e("span",{style:{color:"#858585"}},"))")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#C98A7D"}},"'/Users/.../node_modules/vite'")]),s(`
`),e("span",{class:"line"})])]),e("pre",{class:"shiki shiki-light",style:{"background-color":"#ffffff"}},[e("code",{"v-pre":""},[e("span",{class:"line"},[e("span",{style:{color:"#AB5959"}},">"),e("span",{style:{color:"#393A34"}}," path.dirname"),e("span",{style:{color:"#8E8F8B"}},"("),e("span",{style:{color:"#393A34"}},"require.resolve"),e("span",{style:{color:"#8E8F8B"}},"("),e("span",{style:{color:"#B56959"}},"'vite/package.json'"),e("span",{style:{color:"#8E8F8B"}},"))")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#B56959"}},"'/Users/.../node_modules/vite'")]),s(`
`),e("span",{class:"line"})])])])])]),e("p",null,[s("Update: or you can use my package "),e("a",{href:"https://github.com/antfu/local-pkg",target:"_blank",rel:"noopener"},[e("code",null,"local-pkg")]),s(" now :)")])],-1),k="Get Package Root",f="2021-07-14T16:00:00.000Z",m="en",v="1min",B=[{property:"og:title",content:"Get Package Root"}],_={__name:"get-package-root",setup(d,{expose:l}){const o={title:"Get Package Root",date:"2021-07-14T16:00:00.000Z",lang:"en",duration:"1min",meta:[{property:"og:title",content:"Get Package Root"}]};return l({frontmatter:o}),n({title:"Get Package Root",meta:[{property:"og:title",content:"Get Package Root"}]}),(u,g)=>{const a=r;return i(),t(a,{frontmatter:o},{default:c(()=>[p]),_:1})}}};export{f as date,_ as default,v as duration,m as lang,B as meta,k as title};
